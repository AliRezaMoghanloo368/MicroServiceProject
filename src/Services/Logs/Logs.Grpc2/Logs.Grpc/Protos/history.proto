syntax = "proto3";

import "google/protobuf/timestamp.proto";
import "google/protobuf/empty.proto";

option csharp_namespace = "Logs.Grpc.Protos";

service HistoryService {
  rpc GetHistory (GetHistoryRequest) returns (HistoryModel);
  rpc GetHistories (GetHistoriesRequest) returns (GetHistoriesResponse);
  rpc CreateHistory (CreateHistoryRequest) returns (google.protobuf.Empty);
  rpc UpdateHistory (UpdateHistoryRequest) returns (HistoryModel);
  rpc DeleteHistory (DeleteHistoryRequest) returns (DeleteHistoryResponse);
}

message GetHistoryRequest {
  string id = 1;
}

message HistoryModel {
  string id = 1;
  string userId = 2;
  string userName = 3;
  string hostName = 4;
  string section = 5;
  string recordId = 6;
  google.protobuf.Timestamp createdAt = 7;
  string action = 8;
  string description = 9;
}

message GetHistoriesResponse {
  repeated HistoryModel histories = 1;
}

message CreateHistoryRequest {
  string userId = 1;
  string userName = 2;
  string hostName = 3;
  string action = 4;
  string section = 5;
  string recordId = 6;
  string description = 7;
}

message GetHistoriesRequest {
  string userId = 1;
  string userName = 2;
  string hostName = 3;
  string action = 4;
  string section = 5;
  string recordId = 6;
  string description = 7;
}

message UpdateHistoryRequest {
  HistoryModel history = 1;
}

message DeleteHistoryRequest {
  string id = 1;
}

message DeleteHistoryResponse {
  bool success = 1;
}
